# Migration `20200919222040-change-user-pack-relation`

This migration has been generated by Bradley Jennings at 9/19/2020, 11:20:40 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Packs" DROP CONSTRAINT "Packs_addedById_fkey"

ALTER TABLE "public"."Packs" DROP COLUMN "addedById",
ADD COLUMN "approvedById" integer   

ALTER TABLE "public"."Packs" ADD FOREIGN KEY ("approvedById")REFERENCES "public"."Users"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200919213028-add-user-model..20200919222040-change-user-pack-relation
--- datamodel.dml
+++ datamodel.dml
@@ -4,9 +4,9 @@
 ///
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model BlackCards {
   id        Int      @default(autoincrement()) @id
@@ -17,16 +17,16 @@
   pack      Packs?   @relation(fields: [packId], references: [id])
 }
 model Packs {
-  id         Int          @default(autoincrement()) @id
-  name       String?
-  official   Boolean?
-  status     String?      @default("pending")
-  addedBy    Users?       @relation(fields: [addedById], references: [id])
-  addedById  Int?
-  blackCards BlackCards[]
-  whiteCards WhiteCards[]
+  id           Int          @default(autoincrement()) @id
+  name         String?
+  official     Boolean?
+  status       String?      @default("pending")
+  approvedBy   Users?       @relation(fields: [approvedById], references: [id])
+  approvedById Int?
+  blackCards   BlackCards[]
+  whiteCards   WhiteCards[]
 }
 model WhiteCards {
   id        Int      @default(autoincrement()) @id
@@ -36,10 +36,10 @@
   pack      Packs?   @relation(fields: [packId], references: [id])
 }
 model Users {
-  id       Int     @default(autoincrement()) @id
-  name     String
-  email    String  @unique
-  password String
-  Packs    Packs[]
+  id            Int     @default(autoincrement()) @id
+  name          String
+  email         String  @unique
+  password      String
+  approvedPacks Packs[]
 }
```


